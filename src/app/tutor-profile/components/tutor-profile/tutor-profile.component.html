<app-header></app-header>
<main class="user-profile-wrapper">
  <div class="profile-gradient"></div>
  <div class="profile-container">
    <section class="profile-main-info-wrapper">
      <div class="file-upload-wrapper">
        <div class="upload-image-box">
          <div class="image-upload-wrap">
            <div class="drag-text">
              <img *ngIf="!tutorBaseInfo?.photo" src="assets/images/photo-camera%201.png" alt="Upload Photo"
                   width="33" height="33">
            </div>
            <img [src]="tutorBaseInfo?.photo" *ngIf="tutorBaseInfo?.photo" alt="Upload Photo">
          </div>
        </div>
      </div>
      <div class="profile-cards">
        <div class="d-flex">
          <h2 class="profile-cards__Info--title
           profile-cards__Info--title__without-uppercase">{{tutorBaseInfo?.fullName }}
            <span> ({{tutorBaseInfo?.userName}})</span>
          </h2>
        </div>
        <div class="profile-cards__details--rating" *ngIf="(ratings$ | async) as ratings">
          <fieldset class="star-rates">
            <star-rating [value]="ratings.average" [totalstars]="5" checkedcolor="#FFC107" uncheckedcolor="#c2c2c2"
                         size="35px" [readonly]="true"></star-rating>
          </fieldset>
          <span>{{ratings.average.toFixed(1)}}({{ratings.overallCount}})</span>
        </div>
        <h3 class="profile-cards__details--time flex-container-justify-start">
          <img src="assets/images/hours.svg" alt="Hours" width="24" height="24">
          {{tutorBaseInfo?.tutoredHours}}
        </h3>
        <h3 class="profile-cards__details--bold">Hourly rate: <span
          class="light-text">${{tutorBaseInfo?.hourlyRate}}</span></h3>
        <h3 class="profile-cards__details--bold flex-container-justify-start">
          Lesson cancellation: <span class="light-text"> {{tutorBaseInfo?.cancellation}} </span>
        </h3>
        <h1 class="profile-cards__Info--headline"> Profile Headline </h1>
        <p class="profile-cards__Info--description">{{tutorBaseInfo?.headline}}</p>
      </div>
    </section>
    <section class="profile-buttons">
      <button class="profile-buttons--item flex-container-center" (click)="activeTab = 'PROFILE'"
              [ngClass]="{ 'active':activeTab==='PROFILE'}">
        <img src="assets/images/profile.png"
             alt="Profile"
             width="55"
             height="55">
        profile
      </button>
      <button class="profile-buttons--item flex-container-center" (click)="activeTab = 'START_LESSON'"
              [ngClass]="{ 'active':activeTab==='START_LESSON'}">
        <img src="assets/images/online-learning.png"
             alt="Start Lesson"
             width="55"
             height="55">
        Start Lesson
      </button>
      <button class="profile-buttons--item flex-container-center" (click)="activeTab ='MESSAGES'"
              [ngClass]="{ 'active':activeTab==='MESSAGES'}">
        <img src="assets/images/message.png" alt="Messages" width="51" height="50">
        Messages
      </button>
      <button class="profile-buttons--item flex-container-center" (click)="activeTab ='JOBS_BOARD'"
              [ngClass]="{ 'active':activeTab==='JOBS_BOARD'}">
        <img src="assets/images/analyst.png" alt="Jobs Board" width="52" height="52">
        Jobs board
      </button>
      <button class="profile-buttons--item flex-container-center" (click)="activeTab='PAYMENTS'"
              [ngClass]="{ 'active':activeTab==='PAYMENTS'}">
        <img src="assets/images/cashless-payment.png" alt="payments" width="48" height="48">
        Payments
      </button>
      <button class="profile-buttons--item flex-container-center" (click)="activeTab='LESSON_HISTORY'"
              [ngClass]="{ 'active':activeTab==='LESSON_HISTORY'}">
        <img src="assets/images/lessonHistory.png" alt="Messages" width="51" height="51">
        Lesson history
      </button>
    </section>
    <div [ngSwitch]="activeTab">
      <app-profile-info *ngSwitchCase="'PROFILE'" [userId]="userId" [ratings]="ratings$ | async"
                        [tutorBaseInfo]="tutorBaseInfo"></app-profile-info>
      <app-start-lesson *ngSwitchCase="'START_LESSON'"></app-start-lesson>
      <app-message-dashboard *ngSwitchCase="'MESSAGES'"></app-message-dashboard>
      <app-jobs-board-dashboard *ngSwitchCase="'JOBS_BOARD'"></app-jobs-board-dashboard>
      <app-payment-dashboard *ngSwitchCase="'PAYMENTS'"></app-payment-dashboard>
      <app-lesson-history *ngSwitchCase="'LESSON_HISTORY'"></app-lesson-history>
    </div>
  </div>
</main>






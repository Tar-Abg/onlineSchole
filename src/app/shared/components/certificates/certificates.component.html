<div class="flex-item flex-item-step-min-length">
  <div [class.margin-left-space]="!isLoggedIn" [class.margin-left-onLogged]="isLoggedIn">
    <form [formGroup]="form" class="multiple-form">
      <div class="formArray" formArrayName="formArray" *ngFor="let item of formArray.controls; let i = index" [class.aitionalForm]="i > 0">
        <fieldset [formGroupName]="i" class="register-form">
          <div class="register-step-form">
            <label for="institution-name" class="form-label">
              <input id="institution-name" class="form-input" type="text"
                     placeholder="institution name" formControlName="institutionName">
            </label>
            <label for="qualification" class="form-label">
              <input id="qualification" class="form-input" type="text"
                     placeholder="qualification"
                     formControlName="qualification">
            </label>
            <div class="form-label date-picker-wrapper">
              <h2 class="date-picker-label">Date </h2>
              <mat-form-field appearance="fill" class="date-range-wrapper
                custom-date-range-wrapper">
                <mat-datepicker-toggle matSuffix [for]="picker1">
                  <mat-icon matDatepickerToggleIcon>
                    <img src="assets/images/calendar.svg" alt="Calendar" width="26" height="28">
                  </mat-icon>
                </mat-datepicker-toggle>
                <mat-datepicker #picker1></mat-datepicker>
                <input matInput
                       [matDatepicker]="picker1"
                       (click)="picker1.open()"
                       formControlName="date"
                       [readonly]="true"
                       [max]="todayDate"
                       placeholder="dd/mm/yyyy"
                >
              </mat-form-field>
            </div>
            <div *ngIf="i > 0">
              <button type="button" id="remove" class="remove-icon-wrapper" (click)="removeForm(item)">
                <img src="assets/images/recycleBin.png" alt="Remove Row">
              </button>
            </div>
          </div>
        </fieldset>
      </div>
    </form>
    <button type="button" class="add flex-container-center" id="add" (click)="addNewForm()"> + Add more</button>
    <div class="flex-container-center button-wrapper">
      <ng-container *ngIf="!isLoggedIn">
        <button class="sophist-btn flex-container-center previous-btn" (click)="back.emit()">PREVIOUS</button>
        <button class="sophist-btn flex-container-center next-btn" (click)="onSubmit()">NEXT</button>
      </ng-container>

      <button *ngIf="isLoggedIn" type="submit" class="settings-form-button" (click)="updateCertificates()">Update
        information
      </button>
    </div>
  </div>
</div>
